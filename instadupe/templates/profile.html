{% extends 'base/base.html' %}
{% load static %}
{% load bootstrap4 %}

{% block title %} {{ profile.fullname }} (@{{ profile.username }}) â€¢ Instadupe photos {% endblock %}

{% block navbar %}
{% include 'base/navbar.html' %}
{% endblock %}

{% block content %}
<div class="d-flex flex-column w-100 position-relative" style="top:80px">
  <header class="d-flex mb-5">
    <div class="d-flex mr-4 w-50 flex-column">
      <div class="mx-auto" style="height: 150px; width: 150px;">
        <div class="d-flex flex-column h-100 w-100 mx-auto">
          <button type="submit" class="border-0 w-100 h-100 p-0" style="background: none;">
            <img src="{{ profile.avatar.url }}" alt="" class="h-100 w-100 rounded-circle">
          </button>
          {% if user.is_authenticated %}
          <form enctype="multipart/form-data" method="POST" id="change-avatar"
            action="{% url 'profile' profile.username %}">
            {% csrf_token %}
            <input accept="image/jpeg,image/png" class="d-none" name="avatar" type="file">
          </form>
          {% endif %}
        </div>
      </div>
    </div>
    <section class="d-flex flex-column w-100">
      <div class="d-flex align-items-center mb-3">
        <h3 class="mt-1">{{ profile.username }}</h3>
        <a href="{% url 'account-edit' %}" class="btn btn-outline-secondary btn-sm font-weight-bold ml-3">Edit
          Profile</a>
        <button class="btn ml-1">
          <svg width="24" height="24" viewBox="0 0 16 16" class="bi bi-gear-wide" fill="currentColor"
            xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd"
              d="M8.932.727c-.243-.97-1.62-.97-1.864 0l-.071.286a.96.96 0 0 1-1.622.434l-.205-.211c-.695-.719-1.888-.03-1.613.931l.08.284a.96.96 0 0 1-1.186 1.187l-.284-.081c-.96-.275-1.65.918-.931 1.613l.211.205a.96.96 0 0 1-.434 1.622l-.286.071c-.97.243-.97 1.62 0 1.864l.286.071a.96.96 0 0 1 .434 1.622l-.211.205c-.719.695-.03 1.888.931 1.613l.284-.08a.96.96 0 0 1 1.187 1.187l-.081.283c-.275.96.918 1.65 1.613.931l.205-.211a.96.96 0 0 1 1.622.434l.071.286c.243.97 1.62.97 1.864 0l.071-.286a.96.96 0 0 1 1.622-.434l.205.211c.695.719 1.888.03 1.613-.931l-.08-.284a.96.96 0 0 1 1.187-1.187l.283.081c.96.275 1.65-.918.931-1.613l-.211-.205a.96.96 0 0 1 .434-1.622l.286-.071c.97-.243.97-1.62 0-1.864l-.286-.071a.96.96 0 0 1-.434-1.622l.211-.205c.719-.695.03-1.888-.931-1.613l-.284.08a.96.96 0 0 1-1.187-1.186l.081-.284c.275-.96-.918-1.65-1.613-.931l-.205.211a.96.96 0 0 1-1.622-.434L8.932.727zM8 12.997a4.998 4.998 0 1 0 0-9.995 4.998 4.998 0 0 0 0 9.996z" />
          </svg>
        </button>
      </div>
      <ul class="list-unstyled d-flex mb-3" style="font-size: 16px;">
        <li class="mr-4">
          <span class="font-weight-bold">{{ profile.images.count }}</span>
          <span>post{{ profile.images.count|pluralize }}</span>
        </li>
        <li class="mr-4">
          <span class="font-weight-bold">{{ profile.followers.count }}</span>
          <span>follower{{ profile.followers.count|pluralize }}</span>
        </li>
        <li class="mr-4">
          <span class="font-weight-bold mr-1">{{ profile.following.count }}</span>
          <span>following</span>
        </li>
      </ul>
      <div class="d-flex flex-column" style="font-size:16px;line-height:25px">
        <span class="font-weight-bold">{{ profile.fullname }}</span>
        <span>{{ profile.bio }}</span>
        <a href="{{ profile.website }}" class="text-decoration-none font-weight-bold">{{ profile.website }}</a>
      </div>
    </section>
  </header>
  <div class="d-flex border-top align-items-center justify-content-center" style="height: 52px; font-size: 12px;">
    <a href="" class="text-muted text-decoration-none font-weight-bold mr-5">
      <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-grid-3x3" fill="currentColor"
        xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd"
          d="M0 1.5A1.5 1.5 0 0 1 1.5 0h13A1.5 1.5 0 0 1 16 1.5v13a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 14.5v-13zM1.5 1a.5.5 0 0 0-.5.5V5h4V1H1.5zM5 6H1v4h4V6zm1 4V6h4v4H6zm-1 1H1v3.5a.5.5 0 0 0 .5.5H5v-4zm1 0h4v4H6v-4zm5 0v4h3.5a.5.5 0 0 0 .5-.5V11h-4zm0-1h4V6h-4v4zm0-5h4V1.5a.5.5 0 0 0-.5-.5H11v4zm-1 0H6V1h4v4z" />
      </svg><span class="ml-1 align-middle">POSTS</span>
    </a>
    <a href="" class="text-muted text-decoration-none font-weight-bold">
      <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-bookmark" fill="currentColor"
        xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd"
          d="M8 12l5 3V3a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v12l5-3zm-4 1.234l4-2.4 4 2.4V3a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v10.234z" />
      </svg><span class="ml-1 align-middle">SAVED</span>
    </a>
  </div>
  {% if profile.images.count %}
  <div class="row mx-n3 mb-3">
    {% for image in profile.images.all %}
    <a class="col-4 mb-4" href="">
      <img alt="Photo shared by {{ profile.fullname }} on {{ image.timestamp }}" src="{{ image.image.url }}"
        class="h-100 w-100" style="object-fit:cover; max-height: 293px;">
    </a>
    {% endfor %}
  </div>
  {% else %}
  <div class="d-flex flex-column align-items-center">
    <div class="mx-5 mt-5">
      <div class="d-flex justify-content-center align-items-center border-dark border rounded-circle"
        style="height: 62px; width: 62px;">
        <svg width="24" height="24" viewBox="0 0 16 16" class="bi bi-camera" fill="currentColor"
          xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd"
            d="M15 12V6a1 1 0 0 0-1-1h-1.172a3 3 0 0 1-2.12-.879l-.83-.828A1 1 0 0 0 9.173 3H6.828a1 1 0 0 0-.707.293l-.828.828A3 3 0 0 1 3.172 5H2a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1zM2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4H2z" />
          <path fill-rule="evenodd"
            d="M8 11a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5zm0 1a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z" />
          <path d="M3 6.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z" />
        </svg>
      </div>
    </div>
    <h3 class="mt-4 mb-5">No Posts Yet</h3>
  </div>
  {% endif %}
</div>
{% endblock %}
{% block scripts %}
<script src="{% static 'js/scripts.js' %}"></script>
{% endblock %}